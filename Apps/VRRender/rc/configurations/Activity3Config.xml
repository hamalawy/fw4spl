<extension implements="::fwServices::registry::AppConfig">
    <id>Activity3Config</id>
    <type>parameters</type>
    <parameters>
        <param name="GENERIC_UID" />
        <param name="WID_PARENT" />
        <param name="SELECTED_UID_image" />
    </parameters>
    
    <config>


        <object type="::fwData::Composite">

            <service uid="${GENERIC_UID}_mainView" type="::gui::view::IView" impl="::gui::view::DefaultView" autoConnect="no">
                <gui>
                    <layout type="::fwGui::CardinalLayoutManager">
                        <view caption="Negato1" align="center" />
                        <view caption="Negato2" align="right" minWidth="350" />
                        <view caption="Negato3" align="right" minWidth="350" />
                    </layout>
                    <toolBar />
                </gui>
                <registry>
                    <parent wid="${WID_PARENT}" />
                    <toolBar sid="${GENERIC_UID}_toolBar" start="yes" />
                    <view sid="${GENERIC_UID}_multiView_negato1" start="yes" />
                    <view sid="${GENERIC_UID}_multiView_negato2" start="yes" />
                    <view sid="${GENERIC_UID}_multiView_negato3" start="yes" />
                </registry>
            </service>

            <service uid="${GENERIC_UID}_toolBar" type="::fwGui::IToolBarSrv" impl="::gui::aspect::DefaultToolBarSrv" autoConnect="no">
                <gui>
                    <layout>
                        <menuItem name="New landmark" icon="Bundles/VRRender_0-9/icons/Add-landmark.png" />
                        <menuItem name="Remove landmark" icon="Bundles/VRRender_0-9/icons/Remove-landmark.png" />
                        <menuItem name="Load landmark" icon="Bundles/VRRender_0-9/icons/Load-landmark.png" />
                        <menuItem name="Save landmark" icon="Bundles/VRRender_0-9/icons/Save-landmark.png" />
                        <menuItem name="Focus landmark" icon="Bundles/VRRender_0-9/icons/Find-landmark.png" />
                        <menuItem name="Hide/Show landmark" icon="Bundles/VRRender_0-9/icons/View-landmark.png" />
                        <separator />
                        <menuItem name="Add distance" icon="Bundles/VRRender_0-9/icons/distance.png" />
                        <menuItem name="Remove distance" icon="Bundles/VRRender_0-9/icons/RemoveDistance.png" />
                        <menuItem name="Hide distance" icon="Bundles/VRRender_0-9/icons/HideDistance.png" style="check" />
                        <separator />
                        <menuItem name="Hide cross" icon="Bundles/VRRender_0-9/icons/HideCross.png" style="radio" />
                        <menuItem name="Show normal cross" icon="Bundles/VRRender_0-9/icons/NormalCross.png" style="radio" />
                        <menuItem name="Show full cross" icon="Bundles/VRRender_0-9/icons/FullCross.png" style="radio" />
                    </layout>
                </gui>
                <registry>
                    <menuItem sid="${GENERIC_UID}_ActionNewLandmark" start="yes" />
                    <menuItem sid="${GENERIC_UID}_ActionRemoveLandmark" start="yes" />
                    <menuItem sid="${GENERIC_UID}_ActionLoadLandmark" start="yes" />
                    <menuItem sid="${GENERIC_UID}_ActionSaveLandmark" start="yes" />
                    <menuItem sid="${GENERIC_UID}_ActionFocusLandmark" start="yes" />
                    <menuItem sid="${GENERIC_UID}_ActionHideLandmark" start="yes" />
                    <menuItem sid="${GENERIC_UID}_ActionAddDistance" start="yes" />
                    <menuItem sid="${GENERIC_UID}_ActionRemoveDistance" start="yes" />
                    <menuItem sid="${GENERIC_UID}_ActionHideDistance" start="yes" />
                    <menuItem sid="${GENERIC_UID}_ActionHideCross" start="yes" />
                    <menuItem sid="${GENERIC_UID}_ActionShowNormalCross" start="yes" />
                    <menuItem sid="${GENERIC_UID}_ActionShowFullCross" start="yes" />
                </registry>
            </service>

            <!-- NEGATO 1 VIEW -->
            <service uid="${GENERIC_UID}_multiView_negato1" type="::gui::view::IView" impl="::gui::view::DefaultView" autoConnect="no">
                <gui>
                    <layout type="::fwGui::LineLayoutManager">
                        <orientation value="vertical" />
                        <view proportion="1" />
                        <view proportion="0" minHeight="30" />
                    </layout>
                </gui>
                <registry>
                    <view sid="${GENERIC_UID}_negato1" start="no" />
                    <view sid="${GENERIC_UID}_multiView_negato1_bottom" start="yes" />
                </registry>
            </service>
            <service uid="${GENERIC_UID}_multiView_negato1_bottom" type="::gui::view::IView" impl="::gui::view::DefaultView" autoConnect="no">
                <gui>
                    <layout type="::fwGui::LineLayoutManager">
                        <orientation value="horizontal" />
                        <view proportion="0" minWidth="30" />
                        <view proportion="1" />
                        <view proportion="0" minWidth="30" />
                    </layout>
                </gui>
                <registry>
                    <view sid="${GENERIC_UID}_snapshotNegato1Editor" start="yes" />
                    <view sid="${GENERIC_UID}_slider_negato1" start="no" />
                    <view sid="${GENERIC_UID}_distanceNegato1Editor" start="yes" />
                </registry>
            </service>
            <service uid="${GENERIC_UID}_snapshotNegato1Editor" type="::gui::editor::IEditor" impl="::uiVisu::SnapshotEditor" autoConnect="no">
                <snap>
                    <scene uid="${GENERIC_UID}_negato1" />
                </snap>
            </service>

            <!-- NEGATO 2 VIEW -->
            <service uid="${GENERIC_UID}_multiView_negato2" type="::gui::view::IView" impl="::gui::view::DefaultView" autoConnect="no">
                <gui>
                    <layout type="::fwGui::LineLayoutManager">
                        <orientation value="vertical" />
                        <view proportion="1" />
                        <view proportion="0" minHeight="30" />
                    </layout>
                </gui>
                <registry>
                    <view sid="${GENERIC_UID}_negato2" start="no" />
                    <view sid="${GENERIC_UID}_multiView_negato2_bottom" start="yes" />
                </registry>
            </service>
            <service uid="${GENERIC_UID}_multiView_negato2_bottom" type="::gui::view::IView" impl="::gui::view::DefaultView" autoConnect="no">
                <gui>
                    <layout type="::fwGui::LineLayoutManager">
                        <orientation value="horizontal" />
                        <view proportion="0" minWidth="30" />
                        <view proportion="1" />
                        <view proportion="0" minWidth="30" />
                    </layout>
                </gui>
                <registry>
                    <view sid="${GENERIC_UID}_snapshotNegato2Editor" start="yes" />
                    <view sid="${GENERIC_UID}_slider_negato2" start="no" />
                    <view sid="${GENERIC_UID}_distanceNegato2Editor" start="yes" />
                </registry>
            </service>
            <service uid="${GENERIC_UID}_snapshotNegato2Editor" type="::gui::editor::IEditor" impl="::uiVisu::SnapshotEditor" autoConnect="no">
                <snap>
                    <scene uid="${GENERIC_UID}_negato2" />
                </snap>
            </service>

            <!-- NEGATO 3 VIEW -->
            <service uid="${GENERIC_UID}_multiView_negato3" type="::gui::view::IView" impl="::gui::view::DefaultView" autoConnect="no">
                <gui>
                    <layout type="::fwGui::LineLayoutManager">
                        <orientation value="vertical" />
                        <view proportion="1" />
                        <view proportion="0" minHeight="30" />
                    </layout>
                </gui>
                <registry>
                    <view sid="${GENERIC_UID}_negato3" start="no" />
                    <view sid="${GENERIC_UID}_multiView_negato3_bottom" start="yes" />
                </registry>
            </service>
            <service uid="${GENERIC_UID}_multiView_negato3_bottom" type="::gui::view::IView" impl="::gui::view::DefaultView" autoConnect="no">
                <gui>
                    <layout type="::fwGui::LineLayoutManager">
                        <orientation value="horizontal" />
                        <view proportion="0" minWidth="30" />
                        <view proportion="1" />
                        <view proportion="0" minWidth="30" />
                    </layout>
                </gui>
                <registry>
                    <view sid="${GENERIC_UID}_snapshotNegato3Editor" start="yes" />
                    <view sid="${GENERIC_UID}_slider_negato3" start="no" />
                    <view sid="${GENERIC_UID}_distanceNegato3Editor" start="yes" />
                </registry>
            </service>
            <service uid="${GENERIC_UID}_snapshotNegato3Editor" type="::gui::editor::IEditor" impl="::uiVisu::SnapshotEditor" autoConnect="no">
                <snap>
                    <scene uid="${GENERIC_UID}_negato3" />
                </snap>
            </service>


            <!-- GENERIC SCENE DEFINITION -->
            <item key="visuConfig">
                <object uid="${GENERIC_UID}_VisuComposite" type="::fwData::Composite">

                <!-- Generic Scene Negato1 -->
                    <service uid="${GENERIC_UID}_negato1" impl="::fwRenderVTK::VtkRenderService" type="::fwRender::IRender" autoConnect="yes">
                        <scene>
                            <picker id="negato1default" vtkclass="fwVtkCellPicker" />
                            <renderer id="default" background="0.0" />
                            <adaptor id="renderNegato1" class="::visuVTKAdaptor::Render" objectId="self">
                                <config renderer="default" />
                            </adaptor>
                            <adaptor id="snapshot1" class="::visuVTKAdaptor::Snapshot" objectId="self">
                                <config renderer="default" />
                            </adaptor>
                            <adaptor id="Interactor1" class="::visuVTKAdaptor::InteractorStyle" objectId="self">
                                <config renderer="default" style="InteractorStyle2DForNegato" />
                            </adaptor>
                            <adaptor id="MPRNegato1" class="::visuVTKAdaptor::NegatoMPR" objectId="image">
                                <config renderer="default" picker="negato1default" mode="2d" slices="1" sliceIndex="axial" useColorTF="no" />
                            </adaptor>
                            <adaptor id="text" class="::visuVTKAdaptor::ImageText" objectId="image">
                                <config renderer="default" picker="negato1default" text="" />
                            </adaptor>
                            <adaptor id="multiDistances" class="::visuVTKAdaptor::ImageMultiDistances" objectId="image">
                                <config filter="true" renderer="default" picker="negato1default" />
                            </adaptor>
                            <adaptor id="landmarksNegato1" class="::visuVTKAdaptor::ImageLandmarks" objectId="image">
                                <config renderer="default" picker="negato1default" />
                            </adaptor>
                        </scene>
                    </service>
                    <!-- Generic Scene Negato2 -->
                    <service uid="${GENERIC_UID}_negato2" impl="::fwRenderVTK::VtkRenderService" type="::fwRender::IRender" autoConnect="yes">
                        <scene>
                            <picker id="negato2default" vtkclass="fwVtkCellPicker" />
                            <renderer id="default" background="0.0" />
                            <adaptor id="renderNegato2" class="::visuVTKAdaptor::Render" objectId="self">
                                <config renderer="default" />
                            </adaptor>
                            <adaptor id="snapshot1" class="::visuVTKAdaptor::Snapshot" objectId="self">
                                <config renderer="default" />
                            </adaptor>
                            <adaptor id="Interactor1" class="::visuVTKAdaptor::InteractorStyle" objectId="self">
                                <config renderer="default" style="InteractorStyle2DForNegato" />
                            </adaptor>
                            <adaptor id="MPRNegato2" class="::visuVTKAdaptor::NegatoMPR" objectId="image">
                                <config renderer="default" picker="negato2default" mode="2d" slices="1" sliceIndex="frontal" useColorTF="no" />
                            </adaptor>
                            <adaptor id="text" class="::visuVTKAdaptor::ImageText" objectId="image">
                                <config renderer="default" picker="negato2default" text="" />
                            </adaptor>
                            <adaptor id="multiDistances" class="::visuVTKAdaptor::ImageMultiDistances" objectId="image">
                                <config filter="true" renderer="default" picker="negato2default" />
                            </adaptor>
                            <adaptor id="landmarksNegato2" class="::visuVTKAdaptor::ImageLandmarks" objectId="image">
                                <config renderer="default" picker="negato2default" />
                            </adaptor>
                        </scene>
                    </service>
                    <!-- Generic Scene Negato3 -->
                    <service uid="${GENERIC_UID}_negato3" impl="::fwRenderVTK::VtkRenderService" type="::fwRender::IRender" autoConnect="yes">
                        <scene>
                            <picker id="negato3default" vtkclass="fwVtkCellPicker" />
                            <renderer id="default" background="0.0" />
                            <adaptor id="renderNegato3" class="::visuVTKAdaptor::Render" objectId="self">
                                <config renderer="default" />
                            </adaptor>
                            <adaptor id="snapshot1" class="::visuVTKAdaptor::Snapshot" objectId="self">
                                <config renderer="default" />
                            </adaptor>
                            <adaptor id="Interactor1" class="::visuVTKAdaptor::InteractorStyle" objectId="self">
                                <config renderer="default" style="InteractorStyle2DForNegato" />
                            </adaptor>
                            <adaptor id="MPRNegato3" class="::visuVTKAdaptor::NegatoMPR" objectId="image">
                                <config renderer="default" picker="negato3default" mode="2d" slices="1" sliceIndex="sagittal" useColorTF="no" />
                            </adaptor>
                            <adaptor id="text" class="::visuVTKAdaptor::ImageText" objectId="image">
                                <config renderer="default" picker="negato3default" text="" />
                            </adaptor>
                            <adaptor id="multiDistances" class="::visuVTKAdaptor::ImageMultiDistances" objectId="image">
                                <config filter="true" renderer="default" picker="negato3default" />
                            </adaptor>
                            <adaptor id="landmarksNegato3" class="::visuVTKAdaptor::ImageLandmarks" objectId="image">
                                <config renderer="default" picker="negato3default" />
                            </adaptor>
                        </scene>
                    </service>

                    <item key="image">
                        <object uid="${SELECTED_UID_image}" src="ref" type="::fwData::Image">
                            <service uid="${GENERIC_UID}_MedicalImageSrv" impl="::ctrlSelection::MedicalImageSrv" type="::fwServices::IController" autoConnect="no" />
                            <!-- Editors for Negato1 -->
                            <service uid="${GENERIC_UID}_slider_negato1" impl="::uiImage::SliceIndexPositionEditor" type="::gui::editor::IEditor" autoConnect="yes">
                                <sliceIndex>axial</sliceIndex>
                            </service>

                            <service uid="${GENERIC_UID}_distanceNegato1Editor" type="::gui::editor::IEditor" impl="::uiMeasurement::editor::Distance" autoConnect="no">
                                <placeInScene uid="${GENERIC_UID}_negato1" />
                            </service>
                            <!-- Editors for Negato2 -->
                            <service uid="${GENERIC_UID}_slider_negato2" impl="::uiImage::SliceIndexPositionEditor" type="::gui::editor::IEditor" autoConnect="yes">
                                <sliceIndex>frontal</sliceIndex>
                            </service>
                            <service uid="${GENERIC_UID}_distanceNegato2Editor" type="::gui::editor::IEditor" impl="::uiMeasurement::editor::Distance" autoConnect="no">
                                <placeInScene uid="${GENERIC_UID}_negato2" />
                            </service>
                            <!-- Editors for Negato3 -->
                            <service uid="${GENERIC_UID}_slider_negato3" impl="::uiImage::SliceIndexPositionEditor" type="::gui::editor::IEditor" autoConnect="yes">
                                <sliceIndex>sagittal</sliceIndex>
                            </service>

                            <service uid="${GENERIC_UID}_distanceNegato3Editor" type="::gui::editor::IEditor" impl="::uiMeasurement::editor::Distance" autoConnect="no">
                                <placeInScene uid="${GENERIC_UID}_negato3" />
                            </service>

                            <service uid="${GENERIC_UID}_ActionFocusLandmark" type="::fwGui::IActionSrv" impl="::uiMeasurement::action::FocusLandmark" autoConnect="no" />
                            <service uid="${GENERIC_UID}_ActionNewLandmark" type="::fwGui::IActionSrv" impl="::uiMeasurement::action::AddLandmark" autoConnect="no" />
                            <service uid="${GENERIC_UID}_ActionRemoveLandmark" type="::fwGui::IActionSrv" impl="::uiMeasurement::action::RemoveLandmark" autoConnect="no" />
                            <service uid="${GENERIC_UID}_ActionLoadLandmark" type="::fwGui::IActionSrv" impl="::uiMeasurement::action::LoadLandmark" autoConnect="no" />
                            <service uid="${GENERIC_UID}_ActionSaveLandmark" type="::fwGui::IActionSrv" impl="::uiMeasurement::action::SaveLandmark" autoConnect="no" />
                            <service uid="${GENERIC_UID}_ActionHideLandmark" type="::fwGui::IActionSrv" impl="::uiMeasurement::action::ShowLandmark" autoConnect="yes" />
                            <service uid="${GENERIC_UID}_ActionAddDistance" type="::fwGui::IActionSrv" impl="::uiMeasurement::action::AddDistance" autoConnect="no" />
                            <service uid="${GENERIC_UID}_ActionRemoveDistance" type="::fwGui::IActionSrv" impl="::uiMeasurement::action::RemoveDistance" autoConnect="no" />
                            <service uid="${GENERIC_UID}_ActionHideDistance" type="::fwGui::IActionSrv" impl="::uiMeasurement::action::ShowDistance" autoConnect="yes" />
                            <service uid="${GENERIC_UID}_ActionHideCross" type="::fwGui::IActionSrv" impl="::uiVisu::action::CrossTypeAction" autoConnect="no">
                                <crossType>hide</crossType>
                            </service>
                            <service uid="${GENERIC_UID}_ActionShowNormalCross" type="::fwGui::IActionSrv" impl="::uiVisu::action::CrossTypeAction" autoConnect="no">
                                <crossType>half</crossType>
                                <state active="true" />
                            </service>
                            <service uid="${GENERIC_UID}_ActionShowFullCross" type="::fwGui::IActionSrv" impl="::uiVisu::action::CrossTypeAction" autoConnect="no">
                                <crossType>full</crossType>
                            </service>
                        </object>
                    </item>

                </object>
            </item>


            <!-- START AND STOP SERVICES -->
            <start uid="${GENERIC_UID}_mainView" />
            <start uid="${GENERIC_UID}_negato1" />
            <start uid="${GENERIC_UID}_negato2" />
            <start uid="${GENERIC_UID}_negato3" />
            <start uid="${GENERIC_UID}_MedicalImageSrv" />
            <start uid="${GENERIC_UID}_slider_negato1" />
            <start uid="${GENERIC_UID}_slider_negato2" />
            <start uid="${GENERIC_UID}_slider_negato3" />     

        </object>


    </config>
</extension>
